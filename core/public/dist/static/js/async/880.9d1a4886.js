"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([["880"],{55:function(e,t,a){a.d(t,{Au:()=>m,Fj:()=>s,LC:()=>o,OV:()=>u,dj:()=>r,gK:()=>d,i7:()=>i,v1:()=>c,yW:()=>p});var l=a(4203);let{t:n}=a(4958).Z.global,i=e=>l.e.get("/domains/list",{params:e}),o=()=>l.e.get("/domains/all"),s=e=>l.e.post("/domains/create",e,{fetchOptions:{loading:n("domain.api.loading.creating"),successMessage:!0}}),d=e=>l.e.post("/domains/update",e,{fetchOptions:{loading:n("domain.api.loading.updating"),successMessage:!0}}),r=e=>l.e.post("/domains/delete",e,{fetchOptions:{loading:n("domain.api.loading.deleting"),successMessage:!0}}),u=e=>l.e.post("/domains/set_ssl",e,{fetchOptions:{loading:n("domain.api.loading.settingSSL"),successMessage:!0}}),m=e=>l.e.get("/domains/get_ssl",{params:e}),c=e=>l.e.post("/domains/fresh_dns_records",e,{fetchOptions:{loading:n("domain.api.loading.refreshingDns"),successMessage:!0}}),p=e=>l.e.post("/ssl/apply_cert",e,{fetchOptions:{loading:n("domain.api.loading.applyingCert"),successMessage:!0}})},3776:function(e,t,a){a.d(t,{F:()=>o});var l=a(825),n=a(4059),i=a(4958);let o=()=>{let{t:e}=i.Z.global,{copy:t,isSupported:a}=(0,n.VPI)({legacy:!0});return{copyText:async n=>{if(!n){l.v0.error(e("common.useCopy.noText"));return}a.value?(await t(n),l.v0.success(e("common.useCopy.success"))):l.v0.error(e("common.useCopy.failed"))}}}},6949:function(e,t,a){a.d(t,{Z:()=>o});var l=a(2822),n=a(825),i=a(209);let o=e=>{let{fetchFn:t,params:a,loading:o=!1,immediate:s=!1}=e,d=(0,i.iH)(o),r=(0,i.iH)([]),u=(0,i.iH)(0),m=(0,i.iH)(a),c=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e&&(a.page=1),t){d.value=!0;try{let e=await t(m.value);(0,n.Kn)(e)&&(r.value=(0,n.kJ)(e.list)?e.list:[],u.value=(0,l.Z)(e.total)?e.total:0)}finally{d.value=!1}}};return s&&c(),{loading:d,tableList:r,tableTotal:u,tableParams:m,getTableData:c}}},3312:function(e,t,a){a.d(t,{d:()=>o});var l=a(209),n=a(944);let i=Symbol("MODAL_INJECT"),o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{state:t={},component:a,onCancel:o,onConfirm:s}=e,d=(0,l.qj)({});return a?[(0,l.aZ)({setup(n,o){let{attrs:s,slots:r}=o;return(0,l.JJ)(i,{state:t,options:e,extendApi:e=>{Object.setPrototypeOf(d,e)},setState:e=>{Object.assign(t,e)}}),()=>(0,l.h)(a,{...n,...s},r)}}),d]:[(0,l.aZ)({setup(t,a){let{attrs:r,slots:u}=a,m=(0,l.f3)(i),c=(0,l.iH)(!1);return d.open=()=>{var t;c.value=!0,null===(t=e.onChangeState)||void 0===t||t.call(e,c.value)},d.close=()=>{c.value=!1},d.setState=t=>{var a;null==m||m.setState(t),null===(a=e.onChangeState)||void 0===a||a.call(e,c.value)},d.getState=()=>(null==m?void 0:m.state)??{},null==m||m.extendApi(d),()=>(0,l.Wm)(n.Z,(0,l.dG)({show:c.value},t,r,{onCancel:o,onConfirm:s,"onUpdate:show":e=>{c.value=e??!1}}),{default:()=>{var e;return[null===(e=u.default)||void 0===e?void 0:e.call(u)]}})}}),d]}},9454:function(e,t,a){a.d(t,{Z:()=>i});var l=a(9506),n=a(209);let i=(0,n.aZ)({__name:"index",setup(e){let t=!!(0,n.Rr)().toolsLeft,a=!!(0,n.Rr)().toolsRight,i=!!(0,n.Rr)().pageLeft||!!(0,n.Rr)().pageRight;return(e,o)=>{let s=l.Z;return(0,n.wg)(),(0,n.iD)("div",null,[t||a?((0,n.wg)(),(0,n.j4)(s,{key:0,class:"items-center mb-16px",justify:"space-between"},{default:(0,n.w5)(()=>[(0,n.Wm)(s,{class:"items-center",size:8},{default:(0,n.w5)(()=>[(0,n.WI)(e.$slots,"toolsLeft")]),_:3}),(0,n.Wm)(s,{class:"items-center",size:8},{default:(0,n.w5)(()=>[(0,n.WI)(e.$slots,"toolsRight")]),_:3})]),_:3})):(0,n.kq)("",!0),(0,n.WI)(e.$slots,"table"),(0,n.SU)(i)?((0,n.wg)(),(0,n.j4)(s,{key:1,class:"items-center mt-16px",justify:"space-between"},{default:(0,n.w5)(()=>[(0,n._)("div",null,[(0,n.WI)(e.$slots,"pageLeft")]),(0,n.Wm)(s,null,{default:(0,n.w5)(()=>[(0,n.WI)(e.$slots,"pageRight")]),_:3})]),_:3})):(0,n.kq)("",!0),(0,n.WI)(e.$slots,"modal")])}}})},5523:function(e,t,a){a.d(t,{Z:()=>i});var l=a(9833),n=a(209);let i=(0,n.aZ)({__name:"index",props:{model:{},rules:{},labelWidth:{default:"130"},labelPlacement:{default:"left"}},setup(e,t){let{expose:a}=t,i=(0,n.iH)(null);return a({validate:()=>{var e;return null===(e=i.value)||void 0===e?void 0:e.validate()},restoreValidation:()=>{var e;return null===(e=i.value)||void 0===e?void 0:e.restoreValidation()}}),(e,t)=>{let a=l.Z;return(0,n.wg)(),(0,n.j4)(a,(0,n.dG)(e.$attrs,{ref_key:"formRef",ref:i,model:e.model,rules:e.rules,"label-width":e.labelWidth,"label-placement":e.labelPlacement,"show-require-mark":!1}),{default:(0,n.w5)(()=>[(0,n.WI)(e.$slots,"default")]),_:3},16,["model","rules","label-width","label-placement"])}}})},2403:function(e,t,a){a.d(t,{Z:()=>s});var l=a(1327),n=a(209),i=a(825);let o={class:"ml-8px text-14px"},s=(0,n.aZ)({__name:"index",props:(0,n.Vf)({storeKey:{default:""},pageSizes:{default:()=>[10,20,50,100]},showTotal:{type:Boolean,default:!0},showSizePicker:{type:Boolean,default:!0},showQuickJumper:{type:Boolean,default:!0}},{page:{},pageModifiers:{},pageSize:{},pageSizeModifiers:{}}),emits:(0,n.Vf)(["refresh"],["update:page","update:pageSize"]),setup(e,t){let{emit:a}=t,s=(0,n.Fl)(()=>{let{storeKey:t}=e;return t?`${t}-page`:""}),d=(0,n.tT)(e,"page"),r=(0,n.tT)(e,"pageSize"),u=e=>{d.value=e,a("refresh")},m=e=>{d.value=1,r.value=e,c(e),a("refresh")},c=e=>{s.value&&(0,i.qQ)(s.value,String(e))};return(()=>{if(s.value){let e=(0,i.$o)(s.value);e&&(r.value=(0,i.Dx)(e))}})(),(e,t)=>{let a=l.Z;return(0,n.wg)(),(0,n.j4)(a,(0,n.dG)(e.$attrs,{page:d.value,"onUpdate:page":[t[0]||(t[0]=e=>d.value=e),u],"page-size":r.value,"onUpdate:pageSize":[t[1]||(t[1]=e=>r.value=e),m],"show-size-picker":e.showSizePicker,"show-quick-jumper":e.showQuickJumper,"page-sizes":e.pageSizes,"display-order":["pages","size-picker","quick-jumper"]}),(0,n.Nv)({_:2},[e.showTotal?{name:"suffix",fn:(0,n.w5)(e=>{let{itemCount:t}=e;return[(0,n._)("span",o," Total "+(0,n.zw)(t),1)]}),key:"0"}:void 0]),1040,["page","page-size","show-size-picker","show-quick-jumper","page-sizes"])}}})},9001:function(e,t,a){a.r(t),a.d(t,{default:()=>ef});var l=a(9454),n=a(2403),i=a(2609),o=a(209),s=a(3447),d=a(9506),r=a(825),u=a(3312),m=a(6949),c=a(55);let p={class:"bt-tips flex flex-col gap-4px list-outside list-disc leading-20px text-[#777]"};var f=a(4222);let v=(0,f.default)({},[["render",function(e,t){return(0,o.wg)(),(0,o.iD)("ul",p,[(0,o.WI)(e.$slots,"default",{},void 0,!0)])}],["__scopeId","data-v-8731a1b4"]]);var _=a(5523),w=a(5891),g=a(4603),S=a(6883),y=a(8454),U=a(5778);let h={class:"pt-16px"},k={class:"w-320px"},x={class:"w-100px ml-20px"},b=(0,o.aZ)({__name:"DomainForm",setup(e){let{t}=(0,U.QT)(),a=(0,o.iH)(!1),l=(0,o.Fl)(()=>a.value?t("domain.form.editTitle"):t("domain.form.addTitle")),n=(0,o.AE)("formRef"),i=(0,o.qj)({domain:"",a_record:"",quota:5,quota_unit:"GB",mailboxes:50,email:""}),s=[{label:"GB",value:"GB"},{label:"MB",value:"MB"}],d={domain:{trigger:["blur","input"],validator:()=>""!==i.domain.trim()||Error(t("domain.form.validation.domainRequired"))}},m=(e,t)=>{switch(t){case"GB":return 0x40000000*e;case"MB":return 1048576*e;default:return e}},[p,f]=(0,u.d)({onChangeState:e=>{if(e){let e=f.getState();if(a.value=e.isEdit,e.row){let{row:t}=e;i.domain=t.domain,i.a_record=t.a_record;let a=(0,r.UO)(t.quota);i.quota=(0,r.Dx)(a.split(" ")[0]),i.quota_unit=a.split(" ")[1],i.mailboxes=t.mailboxes}}else i.domain="",i.a_record="",i.quota=5,i.quota_unit="GB",i.mailboxes=50},onConfirm:async()=>{var e;await (null===(e=n.value)||void 0===e?void 0:e.validate()),a.value?await (0,c.gK)({domain:i.domain,quota:m(i.quota,i.quota_unit),mailboxes:i.mailboxes}):await (0,c.Fj)({domain:i.domain,quota:m(i.quota,i.quota_unit),mailboxes:i.mailboxes}),f.getState().refresh()}});return(e,r)=>{let u=y.Z,m=S.ZP,c=g.Z,f=w.Z,v=_.Z;return(0,o.wg)(),(0,o.j4)((0,o.SU)(p),{title:(0,o.SU)(l),width:560},{default:(0,o.w5)(()=>[(0,o._)("div",h,[(0,o.Wm)(v,{ref_key:"formRef",ref:n,model:(0,o.SU)(i),rules:d},{default:(0,o.w5)(()=>[(0,o.Wm)(m,{label:(0,o.SU)(t)("domain.form.domain"),path:"domain"},{default:(0,o.w5)(()=>[(0,o._)("div",k,[(0,o.Wm)(u,{value:(0,o.SU)(i).domain,"onUpdate:value":r[0]||(r[0]=e=>(0,o.SU)(i).domain=e),disabled:(0,o.SU)(a),placeholder:(0,o.SU)(t)("domain.form.domainPlaceholder")},null,8,["value","disabled","placeholder"])])]),_:1},8,["label"]),(0,o.kq)("",!0),(0,o.Wm)(m,{label:(0,o.SU)(t)("domain.form.quota")},{default:(0,o.w5)(()=>[(0,o.Wm)(c,{value:(0,o.SU)(i).quota,"onUpdate:value":r[2]||(r[2]=e=>(0,o.SU)(i).quota=e),class:"w-200px",min:0,"show-button":!1},null,8,["value"]),(0,o._)("div",x,[(0,o.Wm)(f,{value:(0,o.SU)(i).quota_unit,"onUpdate:value":r[3]||(r[3]=e=>(0,o.SU)(i).quota_unit=e),options:s},null,8,["value"])])]),_:1},8,["label"]),(0,o.Wm)(m,{label:(0,o.SU)(t)("domain.form.mailboxCount")},{default:(0,o.w5)(()=>[(0,o.Wm)(c,{value:(0,o.SU)(i).mailboxes,"onUpdate:value":r[4]||(r[4]=e=>(0,o.SU)(i).mailboxes=e),class:"w-320px",min:0,"show-button":!1},null,8,["value"])]),_:1},8,["label"]),(0,o.kq)("",!0)]),_:1},8,["model"]),(0,o.kq)("",!0)])]),_:1},8,["title"])}}});var W=a(4671);let z=(0,o.aZ)({__name:"index",props:{value:{},valueModifiers:{}},emits:["update:value"],setup(e){let t=(0,o.tT)(e,"value");return(e,a)=>{let l=W.Z;return(0,o.wg)(),(0,o.j4)(l,{value:t.value,"onUpdate:value":a[0]||(a[0]=e=>t.value=e),class:"bt-tabs h-full",type:"card",placement:"top"},{default:(0,o.w5)(()=>[(0,o.WI)(e.$slots,"default")]),_:3},8,["value"])}}}),Z=(0,f.default)(z,[["__scopeId","data-v-aa8a5942"]]);var q=a(6720),C=a(8951),j=a(4352),$=a(3236);let T={class:"ssl-cert-container"},P={class:"brand-info"},M={class:"info-label"},O={class:"info-value"},R={class:"info-label"},F={class:"info-value font-normal!"},I={class:"cert-content"},D={class:"cert-section"},H={class:"section-title"},B={class:"cert-section"},L={class:"section-title"},A={class:"cert-actions"},G=(0,o.aZ)({__name:"OtherCert",props:{domain:{type:Object,required:!0},refresh:{type:Function,required:!0}},setup(e){let t=(0,o.iH)(!1),a=(0,o.iH)({subject:"",issuer:"",not_before:"",not_after:"",dns:[],endtime:0,key_pem:"",cert_pem:""}),l=(0,o.Fl)(()=>a.value.dns||[]),n=async()=>{try{t.value=!0;let l=await (0,c.Au)({domain:e.domain.domain});(0,r.Kn)(l)&&(a.value=l)}finally{t.value=!1}},i=async()=>{await (0,c.OV)({domain:e.domain.domain,key:a.value.key_pem,certificate:a.value.cert_pem}),n(),e.refresh()},d=async()=>{await (0,c.yW)({domain:e.domain.domain}),n(),e.refresh()};return a.value=e.domain.cert_info,(e,n)=>{let r=$.ZP,u=j.Z,m=y.Z,c=s.ZP,p=C.Z;return(0,o.wg)(),(0,o.iD)("div",T,[(0,o.Wm)(p,{show:(0,o.SU)(t)},{default:(0,o.w5)(()=>[(0,o.SU)(a).endtime>0?((0,o.wg)(),(0,o.j4)(u,{key:0,class:"mb-16px",type:"success","show-icon":!1},{default:(0,o.w5)(()=>[(0,o._)("div",P,[(0,o._)("div",M,(0,o.zw)(e.$t("domain.ssl.cert.brand"))+"：",1),(0,o._)("div",O,(0,o.zw)((0,o.SU)(a).issuer),1),(0,o._)("div",R,(0,o.zw)(e.$t("domain.ssl.cert.domains"))+"：",1),(0,o._)("div",F,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)((0,o.SU)(l),(e,t)=>((0,o.wg)(),(0,o.j4)(r,{key:t,size:"small"},{default:(0,o.w5)(()=>[(0,o.Uk)((0,o.zw)(e),1)]),_:2},1024))),128))])])]),_:1})):(0,o.kq)("",!0),(0,o._)("div",I,[(0,o._)("div",D,[(0,o._)("div",H,(0,o.zw)(e.$t("domain.ssl.cert.privateKey")),1),(0,o.Wm)(m,{value:(0,o.SU)(a).key_pem,"onUpdate:value":n[0]||(n[0]=e=>(0,o.SU)(a).key_pem=e),type:"textarea",placeholder:e.$t("domain.ssl.cert.keyPlaceholder"),rows:14,"input-props":{spellcheck:!1}},null,8,["value","placeholder"])]),(0,o._)("div",B,[(0,o._)("div",L,(0,o.zw)(e.$t("domain.ssl.cert.certificate")),1),(0,o.Wm)(m,{value:(0,o.SU)(a).cert_pem,"onUpdate:value":n[1]||(n[1]=e=>(0,o.SU)(a).cert_pem=e),type:"textarea",placeholder:e.$t("domain.ssl.cert.certPlaceholder"),"input-props":{spellcheck:!1},rows:14},null,8,["value","placeholder"])])]),(0,o._)("div",A,[(0,o.Wm)(c,{type:"primary",onClick:i},{default:(0,o.w5)(()=>[(0,o.Uk)((0,o.zw)(e.$t("common.actions.save")),1)]),_:1}),(0,o.Wm)(c,{type:"primary",onClick:d},{default:(0,o.w5)(()=>[(0,o.Uk)((0,o.zw)(e.$t("domain.ssl.actions.applyFree")),1)]),_:1})])]),_:1},8,["show"]),(0,o.Wm)(v,null,{default:(0,o.w5)(()=>[(0,o._)("li",null,(0,o.zw)(e.$t("domain.ssl.tips.paste")),1),(0,o._)("li",null,(0,o.zw)(e.$t("domain.ssl.tips.chainCheck")),1),(0,o._)("li",null,(0,o.zw)(e.$t("domain.ssl.tips.pemFormat")),1),(0,o._)("li",null,(0,o.zw)(e.$t("domain.ssl.tips.defaultSite")),1)]),_:1})])}}}),K=(0,f.default)(G,[["__scopeId","data-v-52d5170d"]]),E=(0,o.aZ)({__name:"index",setup(e){let t=(0,o.iH)("other"),a=(0,o.iH)(null),[l,n]=(0,u.d)({onChangeState:e=>{if(e){let{row:e}=n.getState();e&&(a.value=e)}}}),i=()=>{n.getState().refresh()};return(e,n)=>{let s=q.Z;return(0,o.wg)(),(0,o.j4)((0,o.SU)(l),{title:e.$t("domain.ssl.title"),width:650,footer:!1},{default:(0,o.w5)(()=>[(0,o.Wm)(Z,{value:(0,o.SU)(t),"onUpdate:value":n[0]||(n[0]=e=>(0,o.dq)(t)?t.value=e:null)},{default:(0,o.w5)(()=>[(0,o.Wm)(s,{name:"other",tab:e.$t("domain.ssl.tabs.otherCertificate")},{default:(0,o.w5)(()=>[(0,o.SU)(a)?((0,o.wg)(),(0,o.j4)(K,{key:0,domain:(0,o.SU)(a),refresh:i},null,8,["domain"])):(0,o.kq)("",!0)]),_:1},8,["tab"])]),_:1},8,["value"])]),_:1},8,["title"])}}});var V=a(5476),J=a(5191),Q=a(5962),X=a(6499),N=a(6775),Y=a(3776);let ee={class:"record-title"},et={class:"record-desc"},ea={class:"record-title"},el={class:"record-desc"},en={class:"record-title"},ei={class:"record-desc"},eo={class:"record-desc"},es={class:"flex justify-center mt-24px"},ed=(0,o.aZ)({__name:"DomainDns",setup(e){let{t}=(0,U.QT)(),{copyText:a}=(0,Y.F)(),l=(0,o.iH)([]),n=e=>l.value.length>0?l.value[0].dns_records[e].value:"",d=(0,o.Fl)(()=>n("dkim")),m=(0,o.Fl)(()=>n("mx")),p=(0,o.Fl)(()=>n("dmarc")),f=(0,o.Fl)(()=>n("spf")),v=e=>{let{status:a}=e;return(0,o.Wm)("div",{class:["inline-flex items-center",a?"text-primary":"text-error"]},[(0,o.Wm)(Q.g,{size:"16"},{default:()=>[a?(0,o.Wm)(X.Z,null,null):(0,o.Wm)(N.Z,null,null)]}),(0,o.Wm)("span",{class:"ml-4px"},[a?t("domain.dns.status.ok"):t("domain.dns.status.notSet")])])},_=(0,o.iH)([{key:"domain",title:t("domain.dns.columns.domain"),width:"20%",ellipsis:{tooltip:!0}},{key:"mx",title:"MX",render:e=>{let t=e.dns_records.mx;return(0,o.Wm)(v,{status:(null==t?void 0:t.valid)||!1},null)}},{key:"a",title:"A record",render:e=>{let t=e.dns_records.a;return(0,o.Wm)(v,{status:(null==t?void 0:t.valid)||!1},null)}},{key:"spf",title:"SPF",render:e=>{let t=e.dns_records.spf;return(0,o.Wm)(v,{status:(null==t?void 0:t.valid)||!1},null)}},{key:"dkim",title:"DKIM",render:e=>{let t=e.dns_records.dkim;return(0,o.Wm)(v,{status:(null==t?void 0:t.valid)||!1},null)}},{key:"dmarc",title:"DMARC",render:e=>{let t=e.dns_records.dmarc;return(0,o.Wm)(v,{status:(null==t?void 0:t.valid)||!1},null)}},{key:"ptr",title:"PTR",render:e=>{let t=e.dns_records.ptr;return(0,o.Wm)(v,{status:(null==t?void 0:t.valid)||!1},null)}}]),w=async()=>{let e=await (0,c.v1)({domain:l.value[0].domain});(0,r.Kn)(e)&&(l.value[0].dns_records=e);let{refresh:t}=S.getState();t()},[g,S]=(0,u.d)({onChangeState:e=>{if(e){let{row:e}=S.getState();e&&(l.value=[e])}}});return(e,n)=>{let r=i.Z,u=J.Z,c=V.ZP,v=s.ZP;return(0,o.wg)(),(0,o.j4)((0,o.SU)(g),{title:(0,o.SU)(t)("domain.dns.title"),width:750,footer:!1},{default:(0,o.w5)(()=>[(0,o._)("div",null,[(0,o.Wm)(r,{class:"mb-20px",data:(0,o.SU)(l),columns:(0,o.SU)(_)},null,8,["data","columns"]),(0,o._)("div",ee,(0,o.zw)((0,o.SU)(t)("domain.dns.step1.title")),1),(0,o._)("div",et,(0,o.zw)((0,o.SU)(t)("domain.dns.step1.description")),1),(0,o.Wm)(u,{class:"mb-30px"},{default:(0,o.w5)(()=>[(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",null,(0,o.zw)((0,o.SU)(t)("domain.dns.table.recordType")),1),(0,o._)("th",null,(0,o.zw)((0,o.SU)(t)("domain.dns.table.host")),1),(0,o._)("th",null,(0,o.zw)((0,o.SU)(t)("domain.dns.table.value")),1),(0,o._)("th",null,(0,o.zw)((0,o.SU)(t)("domain.dns.table.mxPriority")),1)])]),(0,o._)("tbody",null,[(0,o._)("tr",null,[n[3]||(n[3]=(0,o._)("td",null,"MX",-1)),n[4]||(n[4]=(0,o._)("td",null,"@",-1)),(0,o._)("td",null,(0,o.zw)((0,o.SU)(m)),1),n[5]||(n[5]=(0,o._)("td",null,"10",-1))])])]),_:1}),(0,o._)("div",ea,(0,o.zw)((0,o.SU)(t)("domain.dns.step2.title")),1),(0,o._)("div",el,(0,o.zw)((0,o.SU)(t)("domain.dns.step2.description")),1),(0,o.Wm)(u,{class:"mb-30px"},{default:(0,o.w5)(()=>[(0,o._)("thead",null,[(0,o._)("tr",null,[(0,o._)("th",null,(0,o.zw)((0,o.SU)(t)("domain.dns.table.recordType")),1),(0,o._)("th",null,(0,o.zw)((0,o.SU)(t)("domain.dns.table.host")),1),(0,o._)("th",null,(0,o.zw)((0,o.SU)(t)("domain.dns.table.value")),1)])]),(0,o._)("tbody",null,[(0,o._)("tr",null,[n[6]||(n[6]=(0,o._)("td",null,"TXT",-1)),n[7]||(n[7]=(0,o._)("td",null,"@",-1)),(0,o._)("td",null,[(0,o.Wm)(c,{class:"mr-4px max-w-360px!"},{default:(0,o.w5)(()=>[(0,o.Uk)((0,o.zw)((0,o.SU)(f)),1)]),_:1}),(0,o.Wm)(v,{text:"",type:"primary",onClick:n[0]||(n[0]=()=>(0,o.SU)(a)((0,o.SU)(f)))},{default:(0,o.w5)(()=>[(0,o.Uk)((0,o.zw)((0,o.SU)(t)("common.actions.copy")),1)]),_:1})])]),(0,o._)("tr",null,[n[8]||(n[8]=(0,o._)("td",null,"TXT",-1)),n[9]||(n[9]=(0,o._)("td",null,"default._domainkey",-1)),(0,o._)("td",null,[(0,o.Wm)(c,{class:"mr-4px max-w-360px!"},{default:(0,o.w5)(()=>[(0,o.Uk)((0,o.zw)((0,o.SU)(d)||"--"),1)]),_:1}),(0,o.SU)(d)?((0,o.wg)(),(0,o.j4)(v,{key:0,text:"",type:"primary",onClick:n[1]||(n[1]=()=>(0,o.SU)(a)((0,o.SU)(d)))},{default:(0,o.w5)(()=>[(0,o.Uk)((0,o.zw)((0,o.SU)(t)("common.actions.copy")),1)]),_:1})):(0,o.kq)("",!0)])]),(0,o._)("tr",null,[n[10]||(n[10]=(0,o._)("td",null,"TXT",-1)),n[11]||(n[11]=(0,o._)("td",null,"_dmarc",-1)),(0,o._)("td",null,[(0,o.Wm)(c,{class:"mr-4px max-w-360px!"},{default:(0,o.w5)(()=>[(0,o.Uk)((0,o.zw)((0,o.SU)(p)),1)]),_:1}),(0,o.SU)(p)?((0,o.wg)(),(0,o.j4)(v,{key:0,text:"",type:"primary",onClick:n[2]||(n[2]=()=>(0,o.SU)(a)((0,o.SU)(p)))},{default:(0,o.w5)(()=>[(0,o.Uk)((0,o.zw)((0,o.SU)(t)("common.actions.copy")),1)]),_:1})):(0,o.kq)("",!0)])])])]),_:1}),(0,o._)("div",en,(0,o.zw)((0,o.SU)(t)("domain.dns.step3.title")),1),(0,o._)("div",ei,(0,o.zw)((0,o.SU)(t)("domain.dns.step3.description1")),1),(0,o._)("div",eo,(0,o.zw)((0,o.SU)(t)("domain.dns.step3.description2")),1)]),(0,o._)("div",es,[(0,o.Wm)(v,{type:"primary",onClick:w},{default:(0,o.w5)(()=>[(0,o.Uk)((0,o.zw)((0,o.SU)(t)("domain.dns.verify")),1)]),_:1})])]),_:1},8,["title"])}}}),er=(0,f.default)(ed,[["__scopeId","data-v-74c32408"]]),eu={class:"p-24px"},em={class:"mb-20px text-24px font-bold"};function ec(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!(0,o.lA)(e)}let ep=(0,o.aZ)({__name:"index",setup(e){let{t}=(0,U.QT)(),{tableParams:a,tableList:p,loading:f,tableTotal:v,getTableData:_}=(0,m.Z)({immediate:!0,params:{page:1,page_size:10,keyword:""},fetchFn:c.i7}),w=(0,o.iH)([{key:"domain",title:t("domain.columns.domain"),minWidth:130,ellipsis:{tooltip:!0}},{key:"quota",title:t("domain.columns.quota"),render:e=>(0,r.UO)(e.quota)},{key:"mailboxes",title:t("domain.columns.mailboxes")},{key:"mailbox_quota",title:t("domain.columns.defaultMailboxSize"),render:e=>(0,r.UO)(e.mailbox_quota)},{key:"ssl",title:"SSL",render:e=>{let a;if(e.cert_info&&e.cert_info.endtime){let a=Math.floor((1e3*e.cert_info.endtime-Date.now())/1e3/60/60/24);return(0,o.Wm)(s.ZP,{type:a<0?"error":"primary",text:!0,onClick:()=>{x(e)}},{default:()=>[a<0?t("domain.ssl.expired"):t("domain.ssl.daysLeft",{days:a})]})}return(0,o.Wm)(s.ZP,{type:"warning",text:!0,onClick:()=>{x(e)}},ec(a=t("domain.ssl.notSet"))?a:{default:()=>[a]})}},{title:t("domain.columns.actions"),key:"actions",align:"right",render:e=>{let a,l,n;return(0,o.Wm)(d.Z,{inline:!0},{default:()=>[(0,o.Wm)(s.ZP,{type:"primary",text:!0,onClick:()=>{Z(e)}},ec(a=t("domain.actions.dnsRecord"))?a:{default:()=>[a]}),(0,o.Wm)(s.ZP,{type:"primary",text:!0,onClick:()=>{q(e)}},ec(l=t("common.actions.edit"))?l:{default:()=>[l]}),(0,o.Wm)(s.ZP,{type:"error",text:!0,onClick:()=>{C(e)}},ec(n=t("common.actions.delete"))?n:{default:()=>[n]})]})}}]),[g,S]=(0,u.d)({component:b,state:{isEdit:!1,refresh:_}}),y=()=>{S.setState({row:null,isEdit:!1}),S.open()},[h,k]=(0,u.d)({component:E,state:{refresh:_}}),x=e=>{k.setState({row:e}),k.open()},[W,z]=(0,u.d)({component:er,state:{refresh:_}}),Z=e=>{z.setState({row:e}),z.open()},q=e=>{S.setState({row:e,isEdit:!0}),S.open()},C=e=>{(0,r.iG)({title:t("domain.delete.title"),content:t("domain.delete.confirm",{domain:e.domain}),confirmText:t("common.actions.delete"),confirmType:"error",onConfirm:async()=>{await (0,c.dj)({domain:e.domain}),_()}})};return(e,d)=>{let r=i.Z,u=n.Z,m=l.Z;return(0,o.wg)(),(0,o.iD)("div",eu,[(0,o._)("div",em,(0,o.zw)((0,o.SU)(t)("layout.menu.domain")),1),(0,o.Wm)(m,null,{toolsLeft:(0,o.w5)(()=>[(0,o.Wm)((0,o.SU)(s.ZP),{type:"primary",onClick:y},{default:(0,o.w5)(()=>[(0,o.Uk)((0,o.zw)((0,o.SU)(t)("domain.addDomain")),1)]),_:1})]),table:(0,o.w5)(()=>[(0,o.Wm)(r,{loading:(0,o.SU)(f),columns:(0,o.SU)(w),data:(0,o.SU)(p)},null,8,["loading","columns","data"])]),pageRight:(0,o.w5)(()=>[(0,o.Wm)(u,{page:(0,o.SU)(a).page,"onUpdate:page":d[0]||(d[0]=e=>(0,o.SU)(a).page=e),"page-size":(0,o.SU)(a).page_size,"onUpdate:pageSize":d[1]||(d[1]=e=>(0,o.SU)(a).page_size=e),"item-count":(0,o.SU)(v),onRefresh:(0,o.SU)(_)},null,8,["page","page-size","item-count","onRefresh"])]),modal:(0,o.w5)(()=>[(0,o.Wm)((0,o.SU)(g)),(0,o.Wm)((0,o.SU)(h)),(0,o.Wm)((0,o.SU)(W))]),_:1})])}}}),ef=(0,f.default)(ep,[["__scopeId","data-v-2301c38b"]])}}]);